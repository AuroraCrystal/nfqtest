(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a(243)},243:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(15),i=a.n(r),o=(a(105),a(17)),c=a(18),s=a(21),d=a(19),u=a(22),m=a(245),h=a(246),p=a(98),E=a(249),f=a(44),v=a.n(f),g=a(94),w=a.n(g),y=a(57),b=a.n(y),k=function(e){var t=e.searchMedia;return l.a.createElement("div",null,l.a.createElement(b.a,null,l.a.createElement(b.a.Control,{type:"text",placeholder:"Type in your keyword...",onChange:t,style:{width:"100%"}})))},C=a(45),M=a(247),S=a(248),N=a(29),O=a.n(N);function T(e){localStorage.setItem("nasa",JSON.stringify(e))}var j=function(e){var t=e.item,a=e.list,n=e.open,r=e.handleClose,i=e.toggleNo;return"add"===e.purpose?l.a.createElement(M.a,{show:n,onHide:function(){r(i)}},l.a.createElement(M.a.Header,{closeButton:!0},l.a.createElement(M.a.Title,null,"Add New Item")),l.a.createElement(M.a.Body,null,l.a.createElement(S.a,null,l.a.createElement(S.a.Group,{controlId:"itemTitle"},l.a.createElement(S.a.Label,null,"Title"),l.a.createElement(S.a.Control,{type:"text",placeholder:"Enter title...",defaultValue:t.title,onChange:function(e){t.title=e.target.value}}),l.a.createElement(S.a.Text,{className:"text-muted"},"Your media title. Make it short and informative.")),l.a.createElement(S.a.Group,{controlId:"itemDesc"},l.a.createElement(S.a.Label,null,"Description"),l.a.createElement(S.a.Control,{as:"textarea",rows:"3",style:{resize:"none"},placeholder:"Enter description...",defaultValue:t.description,onChange:function(e){t.description=e.target.value}}),l.a.createElement(S.a.Text,{className:"text-muted"},"Your media description.")),l.a.createElement(S.a.Group,{controlId:"itemPreviewLink"},l.a.createElement(S.a.Label,null,"Media Preview Link"),l.a.createElement(S.a.Control,{type:"text",placeholder:"Enter link...",defaultValue:t.preview,onChange:function(e){t.preview=e.target.value}})),l.a.createElement(S.a.Group,{controlId:"itemMediaLink"},l.a.createElement(S.a.Label,null,"Media Link"),l.a.createElement(S.a.Control,{type:"text",placeholder:"Enter link...",defaultValue:"https://images-api.nasa.gov/asset/".concat(t.nasa_id),onChange:function(e){t.link=e.target.value}})))),l.a.createElement(M.a.Footer,null,l.a.createElement(E.a,{variant:"secondary",onClick:function(){r(i)}},"Close"),l.a.createElement(E.a,{variant:"primary",onClick:function(){!function(e,t,a,n){e.link="https://images-api.nasa.gov/asset/".concat(a),e.favorite=!1,t.push(e),T(t)}(t,a,t.nasa_id),r(i),window.location.reload()}},"Add This Item"))):l.a.createElement(M.a,{show:n,onHide:function(){r(i)}},l.a.createElement(M.a.Header,{closeButton:!0},l.a.createElement(M.a.Title,null,"Edit Item")),l.a.createElement(M.a.Body,null,l.a.createElement(S.a,null,l.a.createElement(S.a.Group,{controlId:"itemTitle"},l.a.createElement(S.a.Label,null,"Title"),l.a.createElement(S.a.Control,{type:"text",placeholder:"Enter title...",defaultValue:t.title,onChange:function(e){t.title=e.target.value}}),l.a.createElement(S.a.Text,{className:"text-muted"},"Your media title. Make it short and informative.")),l.a.createElement(S.a.Group,{controlId:"itemDesc"},l.a.createElement(S.a.Label,null,"Description"),l.a.createElement(S.a.Control,{as:"textarea",rows:"3",style:{resize:"none"},placeholder:"Enter description...",defaultValue:t.description,onChange:function(e){t.description=e.target.value}}),l.a.createElement(S.a.Text,{className:"text-muted"},"Your media description.")),l.a.createElement(S.a.Group,{controlId:"itemPreviewLink"},l.a.createElement(S.a.Label,null,"Media Preview Link"),l.a.createElement(S.a.Control,{type:"text",placeholder:"Enter link...",defaultValue:t.preview,onChange:function(e){t.preview=e.target.value}})),l.a.createElement(S.a.Group,{controlId:"itemMediaLink"},l.a.createElement(S.a.Label,null,"Media Link"),l.a.createElement(S.a.Control,{type:"text",placeholder:"Enter link...",defaultValue:t.link,onChange:function(e){t.link=e.target.value}})))),l.a.createElement(M.a.Footer,null,l.a.createElement(E.a,{variant:"secondary",onClick:function(){r(i)}},"Close"),l.a.createElement(E.a,{variant:"primary",onClick:function(){!function(e,t,a){a[O()(a,{id:e})]=t,T(a)}(t.id,t,a),r(i)}},"Save Item")))},x=a(25),L=a.n(x),A=(a(54),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={toggleModal:new Array(a.props.searchResults).fill(!1)},a.createTable=function(e){for(var t=[],a=0,n=0;n<Math.round(e.length/2)+e.length%2;n+=1){for(var l=[],r=0;r<2;r+=1)e[a]&&(l.push(Object(C.a)({},e[a])),a+=1);t.push(l)}return t},a.showModal=function(e){var t=a.state.toggleModal;t[e]=!0,a.setState({toggleModal:t})},a.hideModal=function(e){var t=a.state.toggleModal;t[e]=!1,a.setState({toggleModal:t})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.createTable(this.props.searchResults).map(function(t){return l.a.createElement("tr",null,t.map(function(t){return l.a.createElement("td",{key:t.id,className:"table-cells"},l.a.createElement("div",null,l.a.createElement("img",{alt:"nasa-item",src:t.preview,width:"300",height:"300"})),l.a.createElement("div",null,l.a.createElement("span",null,l.a.createElement("b",null,"Title: ",t.title))),l.a.createElement("div",null,l.a.createElement("textarea",{rows:"5",cols:"50",value:t.description,disabled:!0})),l.a.createElement("div",null,l.a.createElement(L.a,{variant:"primary",onClick:function(){e.showModal(t.id)}},"Add New Item")),l.a.createElement(j,{item:t,list:e.props.itemList,open:e.state.toggleModal[t.id],handleClose:e.hideModal,toggleNo:t.id,purpose:"add",changeState:e.props.changeState}))}))});return l.a.createElement("div",{className:"item-container"},l.a.createElement("table",{className:"item-table"},l.a.createElement("tbody",null,t)))}}]),t}(l.a.Component)),I=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={searchResults:[]},a.searchMedia=function(e){var t=e.target.value,n="https://images-api.nasa.gov/search?q=".concat(t);v()({method:"GET",url:n}).then(function(e){var t=[];e.data.collection.items.forEach(function(e){t.push({id:e.data[0].nasa_id,nasa_id:e.data[0].nasa_id,title:e.data[0].title,description:e.data[0].description,type:e.data[0].media_type,preview:w()(e.links,function(e){return"preview"===e.rel}).href||[]})}),a.setState({searchResults:t})}).catch(function(e){return""})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(k,{searchMedia:this.searchMedia}),l.a.createElement(A,{searchResults:this.state.searchResults,itemList:this.props.itemList}))}}]),t}(l.a.Component),G=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={toggleModal:new Array(a.props.searchResults).fill(!1)},a.goToMedia=function(e){var t=e.link;v()({method:"GET",url:t}).then(function(e){for(var t="",a=e.data.collection.items,n=0;n<a.length;n+=1)if(a[n].href.includes("~orig")){t=a[n].href;break}window.location.href=t}).catch(function(){})},a.save=function(e){localStorage.setItem("nasa",JSON.stringify(e))},a.deleteData=function(e,t){var n=O()(t,{id:e});t.splice(n,1),a.save(t),a.forceUpdate()},a.favorite=function(e,t,n){var l=O()(t,{id:e});t[l].favorite=!t[l].favorite,a.save(t),a.forceUpdate()},a.createTable=function(e){for(var t=[],a=0,n=0;n<Math.round(e.length/3)+e.length%3;n+=1){for(var l=[],r=0;r<3;r+=1)e[a]&&(l.push(Object(C.a)({},e[a])),a+=1);t.push(l)}return t},a.showModal=function(e){var t=a.state.toggleModal;t[e]=!0,a.setState({toggleModal:t})},a.hideModal=function(e){var t=a.state.toggleModal;t[e]=!1,a.setState({toggleModal:t})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.createTable(this.props.data),a=t.length?t.map(function(t){return l.a.createElement("tr",null,t.map(function(t){return l.a.createElement("td",{key:t.id,className:"table-cells"},l.a.createElement("div",null,l.a.createElement("img",{alt:"nasa-item",src:t.preview,width:"300",height:"300",onClick:function(){e.goToMedia(t)}})),l.a.createElement("div",null,l.a.createElement("span",null,l.a.createElement("b",null,"Title: ",t.title))),l.a.createElement("div",null,l.a.createElement("span",{className:"description"},t.description)),l.a.createElement("div",null,l.a.createElement(L.a,{variant:"primary",onClick:function(){e.showModal(t.id)}},"Edit Item"),l.a.createElement(L.a,{variant:"primary",onClick:function(){e.deleteData(t.id,e.props.data)}},"Delete"),l.a.createElement(L.a,{variant:"info",style:{display:!1===t.favorite?"inline-block":"none"},onClick:function(){e.favorite(t.id,e.props.data)}},l.a.createElement("span",{className:"glyphicon"}),"\u2661"),l.a.createElement(L.a,{variant:"info",style:{display:!0===t.favorite?"inline-block":"none"},onClick:function(){e.favorite(t.id,e.props.data)}},l.a.createElement("span",{className:"glyphicon"}),"\u2665")),l.a.createElement(j,{item:t,list:e.props.data,open:e.state.toggleModal[t.id],handleClose:e.hideModal,toggleNo:t.id,purpose:"edit"}))}))}):l.a.createElement("div",null,"There is currently no items in the collection. Head to the Search Bar and start adding some!");return l.a.createElement("div",{className:"item-container"},l.a.createElement("table",{className:"item-table"},l.a.createElement("tbody",null,a)))}}]),t}(l.a.Component),B=function(){try{return JSON.parse(localStorage.getItem("nasa"))||[]}catch(e){}return[]},V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).changeState=function(){a.setState({showAddScreen:!a.state.showAddScreen})},a.showHideAddScreen=function(){return a.state.showAddScreen?l.a.createElement(I,{itemList:a.state.items}):l.a.createElement(G,{data:a.state.items})},a.state={showAddScreen:!1,keyword:"",items:B()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(m.a,null,l.a.createElement(h.a,null,l.a.createElement(p.a,null,l.a.createElement("h1",{style:{textAlign:"left"}},"NASA Collection")),l.a.createElement(p.a,null,l.a.createElement("div",{className:"text-right"},l.a.createElement(E.a,{variant:"primary",onClick:this.changeState},"Toggle Search Bar")))),l.a.createElement(h.a,{className:"main-container"},this.showHideAddScreen())))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},54:function(e,t,a){}},[[100,1,2]]]);
//# sourceMappingURL=main.34a7c180.chunk.js.map